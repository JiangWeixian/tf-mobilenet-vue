(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{5:function(t,e){},F1Wv:function(t,e,i){},F5iJ:function(t,e,i){"use strict";var s=i("F1Wv");i.n(s).a},HO1r:function(t,e,i){},RXlY:function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"vue-camera"},[i("div",{staticClass:"video-wrapper"},[i("video",{ref:"video",attrs:{autoplay:""}}),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],staticClass:"canvas-wrapper"},[i("canvas",{ref:"canvas"})])]),t._v(" "),i("div",{staticClass:"panel control-panel"},[i("transition",{attrs:{name:"popup"}},[i("toast",{directives:[{name:"show",rawName:"v-show",value:t.isPredict,expression:"isPredict"}],staticClass:"predict",attrs:{content:"我们找到了 "+t.msg}})],1),t._v(" "),i("a",{staticClass:"btn-play btn-floating btn-large waves-effect waves-dark white",on:{click:t._record}},[i("i",{staticClass:"material-icons md-dark md-56"},[t._v("play_arrow")])])],1),t._v(" "),i("transition",{attrs:{name:"record"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.isRecord,expression:"isRecord"}],staticClass:"img-container"},[i("div",{staticClass:"img-layer"}),t._v(" "),i("div",{staticClass:"img-wrapper"},[i("img",{ref:"img",attrs:{src:t.imgUrl,alt:"canvas"}})])])])],1)};s._withStripped=!0;var a=i("4d7F"),n=i.n(a),r=i("8WS6"),o=function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"toast-wrapper z-depth-3"},[e("p",{staticClass:"toast-content"},[this._v("\n    "+this._s(this.content)+"\n  ")])])};o._withStripped=!0;var c={name:"toast",props:{content:{type:String,required:!0}}},d=(i("muI9"),i("KHd+")),l=Object(d.a)(c,o,[],!1,null,"1e612171",null);l.options.__file="src/components/Base/Toast/Toast.vue";var v={name:"VueCamera",components:{Toast:l.exports},data:function(){return{name:"VueCamera",imgUrl:null,model:null,isRecord:!1,isPredict:!1,msg:""}},watch:{isRecord:function(t,e){var i=this;t?setTimeout(function(){i.isRecord=!1},400):setTimeout(function(){i._predict()},200)},isPredict:function(t,e){var i=this;t&&setTimeout(function(){i.isPredict=!1},600)}},mounted:function(){var t=this;this.model=r.load().then(function(t){return n.a.resolve(t)}),this.$nextTick(function(){t._initMedia()})},methods:{_initMedia:function(){this.$refs.video&&(navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia,window.URL=window.URL||window.webkitURL||window.mozURL||window.msURL,this._getMedia())},_getMedia:function(){navigator.getUserMedia?navigator.getUserMedia({video:!0,audio:!0},this._successCallback,this._errorCallback):console.log("Native device media streaming (getUserMedia) not supported in this browser.")},_successCallback:function(t){void 0!==this.$refs.video.mozSrcObject?this.$refs.video.mozSrcObject=t:this.$refs.video.src=window.URL&&window.URL.createObjectURL(t)||t},_errorCallback:function(t){console.log(t)},_record:function(){this.$refs.canvas.getContext("2d").drawImage(this.$refs.video,0,0,300,150),this.imgUrl=this.$refs.canvas.toDataURL("image/png"),this.isRecord=!0},_predict:function(){var t=this;this.model.then(function(e){console.log("done"),e.classify(t.$refs.img).then(function(e){t.msg=e[0].className.split(",")[0],t.isPredict=!0})})}}},u=(i("F5iJ"),Object(d.a)(v,s,[],!1,null,"411eb971",null));u.options.__file="src/components/Camera/VueCamera.vue",e.default=u.exports},muI9:function(t,e,i){"use strict";var s=i("HO1r");i.n(s).a}}]);